# ü§ñ RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (OpenAI + Weaviate)

RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–æ–π **Weaviate** –Ω–∞ VDS –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ **OpenAI API**. –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ü–µ–Ω–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ RAGAS.

![Python](https://img.shields.io/badge/Python-3776AB?logo=python&logoColor=white)
![OpenAI](https://img.shields.io/badge/OpenAI-412991?logo=openai&logoColor=white)
![Weaviate](https://img.shields.io/badge/Weaviate-4D4D4D?logo=weaviate&logoColor=white)
![SQLite](https://img.shields.io/badge/SQLite-003B57?logo=sqlite&logoColor=white)
![RAGAS](https://img.shields.io/badge/RAGAS-2C2C2C?logo=ragas&logoColor=white)
![python-dotenv](https://img.shields.io/badge/python--dotenv-3776AB?logo=python&logoColor=white)

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/andreyko75/RAG-assist

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

* –û–ø–∏—Å–∞–Ω–∏–µ
* –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
* –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
* –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
* –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
* –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
* –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
* –õ–∏—Ü–µ–Ω–∑–∏—è

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **RAG (Retrieval-Augmented Generation)**:

* **–í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** ‚Äî Weaviate –Ω–∞ –≤–∞—à–µ–º VDS (HTTP + gRPC), —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ OpenAI `text-embedding-3-small`.
* **–£–º–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏** ‚Äî –ø–æ –∞–±–∑–∞—Ü–∞–º –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º, —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º (overlap) –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
* **–ö–µ—à** ‚Äî SQLite –¥–ª—è –ø–∞—Ä –≤–æ–ø—Ä–æ—Å‚Äì–æ—Ç–≤–µ—Ç: –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –ø–æ–∏—Å–∫ –∏ LLM.
* **–ü–∞–π–ø–ª–∞–π–Ω** ‚Äî –∑–∞–ø—Ä–æ—Å ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞ ‚Üí –ø–æ–∏—Å–∫ –≤ Weaviate ‚Üí –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º ‚Üí –æ—Ç–≤–µ—Ç OpenAI ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–µ—à.
* **–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞** ‚Äî —Å–∫—Ä–∏–ø—Ç RAGAS (Faithfulness, Context Precision) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ RAG.

–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∑–∞–¥–∞—ë—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –≤ `data/` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `data/docs.txt`).

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

* –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–µ—à–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—ç–∫–æ–Ω–æ–º–∏—è API –∏ –≤—Ä–µ–º–µ–Ω–∏).
* –ö–æ–º–∞–Ω–¥—ã: `exit` / `quit` ‚Äî –≤—ã—Ö–æ–¥, `stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (Weaviate, –∫–µ—à), `clear` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞.

### –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Weaviate)

* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Weaviate –Ω–∞ VDS –ø–æ HTTP (–ø–æ—Ä—Ç 8080) –∏ gRPC (–ø–æ—Ä—Ç 50051).
* –ö–æ–ª–ª–µ–∫—Ü–∏—è —Å self-provided –≤–µ–∫—Ç–æ—Ä–∞–º–∏: —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ OpenAI.
* –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ `.txt` —Å —É–º–Ω—ã–º —á–∞–Ω–∫–∏–Ω–≥–æ–º (–∞–±–∑–∞—Ü—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, overlap).
* –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫: –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ –≤–µ–∫—Ç–æ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —á–∞–Ω–∫–∏.

### –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (RAGAS)

* –¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π.
* –ú–µ—Ç—Ä–∏–∫–∏: **Faithfulness** (–≤–µ—Ä–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É), **Context Precision** (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ–¥–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞).
* –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ—Ç—á—ë—Ç: —Å—Ä–µ–¥–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º, –∏—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

* –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞: `python vector_store.py` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∞ `data/docs.txt`, —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.11 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
* –î–æ—Å—Ç—É–ø –∫ Weaviate –Ω–∞ VDS (–ø–æ—Ä—Ç—ã **8080** –¥–ª—è HTTP –∏ **50051** –¥–ª—è gRPC)
* API-–∫–ª—é—á OpenAI

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/andreyko75/RAG-assist.git
cd RAG-assist
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (macOS/Linux):
source venv/bin/activate

# Windows:
# venv\Scripts\activate
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
# OpenAI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
OPENAI_API_KEY=sk-...

# Weaviate –Ω–∞ VDS
WEAVIATE_HTTP_URL=http://–í–ê–®_IP:8080
WEAVIATE_GRPC_HOST=–í–ê–®_IP
WEAVIATE_GRPC_PORT=50051

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –µ—Å–ª–∏ Weaviate –∑–∞—â–∏—â—ë–Ω API-–∫–ª—é—á–æ–º
WEAVIATE_API_KEY=...
WEAVIATE_USER=admin
```

**–í–∞–∂–Ω–æ:**

* –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ git (–æ–Ω —É–∂–µ –≤ `.gitignore`).
* –ù–∞ VDS –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã –ø–æ—Ä—Ç—ã **8080** (HTTP) –∏ **50051** (gRPC).
* –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á OpenAI: [platform.openai.com](https://platform.openai.com).

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv, –µ—Å–ª–∏ –µ—â—ë –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
source venv/bin/activate

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
python app.py
```

–°–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤ –∫ –≤–æ–ø—Ä–æ—Å–∞–º. –í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏ –Ω–∞–∂–º–∏—Ç–µ Enter. –ö–æ–º–∞–Ω–¥—ã: `exit` / `quit` ‚Äî –≤—ã—Ö–æ–¥, `stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, `clear` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞.

### –ó–∞–ø—É—Å–∫ –æ—Ü–µ–Ω–∫–∏ RAGAS

```bash
python evaluate_ragas.py
```

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –∑–∞–ø—É—Å—Ç–∏—Ç RAGAS –∏ –≤—ã–≤–µ–¥–µ—Ç –æ—Ç—á—ë—Ç (—Å—Ä–µ–¥–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º, –∏—Ç–æ–≥).

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

```bash
python vector_store.py
```

–í—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏; –ø—Ä–∏ –ø—É—Å—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –Ω–∞–ª–∏—á–∏–∏ `data/docs.txt` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫.

---

## üèóÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –û–±—â–∏–µ

* **RAG-–ø–∞–π–ø–ª–∞–π–Ω**: –∫–µ—à (SQLite) ‚Üí –ø–æ–∏—Å–∫ –≤ Weaviate ‚Üí —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (OpenAI) ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫–µ—à.
* **–í–µ–∫—Ç–æ—Ä—ã**: —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ OpenAI `text-embedding-3-small` (1536 —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å), Weaviate —Ö—Ä–∞–Ω–∏—Ç –≥–æ—Ç–æ–≤—ã–µ –≤–µ–∫—Ç–æ—Ä—ã (self-provided).
* **–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**: –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ `app.py` –∏ –ø–æ—Å–ª–µ `evaluate_ragas.py` —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Weaviate –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è.

### –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (vector_store.py)

* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Weaviate —á–µ—Ä–µ–∑ `weaviate.connect_to_custom()` (HTTP + gRPC).
* –ö–æ–ª–ª–µ–∫—Ü–∏—è —Å –ø–æ–ª—è–º–∏ `content`, `source` –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π `vector_config=Configure.Vectors.self_provided()`.
* –£–º–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∞–±–∑–∞—Ü–∞–º (`\n\n`), –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º; overlap ~20%, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —á–∞–Ω–∫–∞ 50 —Å–∏–º–≤–æ–ª–æ–≤.
* –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞—Ç—á–∞–º–∏ –ø–æ 50 –æ–±—ä–µ–∫—Ç–æ–≤; –ø—Ä–∏ –Ω–µ–ø—É—Å—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

### –ö–µ—à (cache.py)

* SQLite: —Ç–∞–±–ª–∏—Ü–∞ —Å `query_hash`, `query`, `answer`, `context`, `created_at`.
* –•–µ—à –∑–∞–ø—Ä–æ—Å–∞ ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä, –µ–¥–∏–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã), SHA-256.
* –ú–µ—Ç–æ–¥—ã: `get()`, `set()`, `clear()`, `get_stats()`.

### –û—Ü–µ–Ω–∫–∞ RAGAS (evaluate_ragas.py)

* Legacy-–º–µ—Ç—Ä–∏–∫–∏ RAGAS: `faithfulness`, `context_precision` (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å `evaluate()`).
* –î–∞—Ç–∞—Å–µ—Ç: –≤–æ–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç, –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å–ø–∏—Å–æ–∫ —á–∞–Ω–∫–æ–≤), —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π ground_truth.
* –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (DeprecationWarning, ResourceWarning) –¥–ª—è —á–∏—Å—Ç–æ–≥–æ –≤—ã–≤–æ–¥–∞.
* –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ—Ç—á—ë—Ç: —Å—Ä–µ–¥–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏, —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º, –∏—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è.

---

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "WEAVIATE_HTTP_URL –Ω–µ –∑–∞–¥–∞–Ω" / "OPENAI_API_KEY –Ω–µ –∑–∞–¥–∞–Ω"

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Ä—è–¥–æ–º —Å `README.md`).
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `OPENAI_API_KEY` –∏ `WEAVIATE_HTTP_URL`.
* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –∫–∞–≤—ã—á–µ–∫ –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö.

### –û—à–∏–±–∫–∞ "Weaviate –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"

* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Weaviate –∑–∞–ø—É—â–µ–Ω –Ω–∞ VDS –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–¥—Ä–µ—Å—É.
* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–∫—Ä—ã—Ç—ã –ø–æ—Ä—Ç—ã **8080** (HTTP) –∏ **50051** (gRPC).
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `WEAVIATE_GRPC_HOST` –∏ `WEAVIATE_GRPC_PORT` –≤ `.env`.
* –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ HTTPS —É–∫–∞–∂–∏—Ç–µ `https://` –≤ `WEAVIATE_HTTP_URL`.

### –û—à–∏–±–∫–∞ "'vectorizerConfig'" / "vector_config"

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vector_config=Configure.Vectors.self_provided()` (–Ω–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π `vectorizer_config`).
* –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ RAGAS (EvaluationResult, .get)

* RAGAS –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `EvaluationResult`, –∞ –Ω–µ —Å–ª–æ–≤–∞—Ä—å. –í —Å–∫—Ä–∏–ø—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `result._repr_dict` –∏ `result["faithfulness"]` / `result["context_precision"]` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è `evaluate_ragas.py` —ç—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç.

### –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø—É—Å—Ç–∞—è, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `data/docs.txt` (–∏–ª–∏ –ø—É—Ç—å, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ `data_file` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `RAGPipeline`).
* –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ `app.py` –∏–ª–∏ `evaluate_ragas.py` –∑–∞–≥—Ä—É–∑–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—É—Å—Ç–∞.
* –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `python vector_store.py`.

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ evaluate_ragas.py

* –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è RAGAS (deprecation, unclosed file) –ø–æ–¥–∞–≤–ª—è—é—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ —Ç–µ–∫—Å—Ç—É —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞. –ï—Å–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è, –æ–Ω–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ü–µ–Ω–∫–∏.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–±—Ä–∞—Ç—å **—Ä–∞–±–æ—á–µ–≥–æ RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞** —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–æ–π –Ω–∞ Weaviate (VDS), –∫–µ—à–µ–º –∏ –æ—Ü–µ–Ω–∫–æ–π –∫–∞—á–µ—Å—Ç–≤–∞ ‚Äî –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ –∫—É—Ä—Å—É (–º–æ–¥—É–ª—å RAG). –ü—Ä–æ–µ–∫—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ‚Üí —á–∞–Ω–∫–∏–Ω–≥ ‚Üí —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ ‚Üí –ø–æ–∏—Å–∫ ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
RAG-assist/
‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ app.py                # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
‚îú‚îÄ‚îÄ cache.py              # –ö–µ—à SQLite (–≤–æ–ø—Ä–æ—Å‚Äì–æ—Ç–≤–µ—Ç)
‚îú‚îÄ‚îÄ rag_pipeline.py       # –ü–∞–π–ø–ª–∞–π–Ω RAG (–∫–µ—à ‚Üí Weaviate ‚Üí OpenAI)
‚îú‚îÄ‚îÄ vector_store.py       # Weaviate: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, —á–∞–Ω–∫–∏–Ω–≥, —ç–º–±–µ–¥–¥–∏–Ω–≥–∏, –ø–æ–∏—Å–∫
‚îú‚îÄ‚îÄ evaluate_ragas.py     # –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ RAG (RAGAS)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ docs.txt          # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã)
‚îú‚îÄ‚îÄ venv/                 # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚îú‚îÄ‚îÄ rag_cache.db          # –ö–µ—à –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ, –≤ .gitignore)
‚îî‚îÄ‚îÄ .env                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å)
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏ OpenAI API –∏ –ø–æ–ª–∏—Ç–∏–∫–æ–π –≤–∞—à–µ–≥–æ —É—á–µ–±–Ω–æ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è.

---

_–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ RAG –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –Ω–∞ Weaviate_
